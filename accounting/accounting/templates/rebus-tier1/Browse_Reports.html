{% extends "rebus-base.html" %}



{% block content-main %}

<link rel="stylesheet" href="/static/style.css">
<link rel="stylesheet" href="/static/normalize.css">
<link rel="stylesheet" href="/static/django_wlcg_acc_report.css">
<!-- 
<link rel="stylesheet" href="/templates/js/jquery/jqueryFileTree.css">


 <script type="text/javascript" src="/templates/js/jquery/jqueryFileTree.js"></script>

<script src="//cdn.jsdelivr.net/jquery.fancytree/2.9.0/jquery.fancytree-all.min.js" type="text/javascript"></script>

 
<link href="/templates/js/jquery/skin-win8/ui.fancytree.css" rel="stylesheet" type="text/css">
 -->
 
 <script src="http://code.jquery.com/jquery-latest.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.9.0/skin-lion/ui.fancytree.min.css" rel="stylesheet" type="text/css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.fancytree/2.9.0/jquery.fancytree-all.min.js"  type="text/javascript"></script>
 
 
 <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.1.135/jspdf.min.js" type="text/javascript"></script> -->
 


    <h1> Browsing existing reports</h1>
  
  <div id="browser_div">
  </div>


 <table>
 <tr><td style="text-align: left">


<div id="tree"/>
</td><td>

</td></tr>
</table>



<!--      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/base/jquery-ui.css"> -->
 {% endblock content-main %}



{% block scripts-bottom-add %}
<script type="text/javascript" charset="utf-8">

$(document).ready( function() {

   $("#tree").load("/reports/acc_report_tree.html", function ()  {
                    $("#tree").fancytree({
                                  // Node events
                                   activate: function(event, data) {
                                                 var node = data.node;
                                                 if (node.children)
                                                     return true;
                                                 var path=node.title;
                                                 while (node.parent.title != 'root'){
                                                     path= node.parent.title +'/' + path;
                                                     node=node.parent;
                                                 }
                                                 // acces node attributes
 
                                                 window.open("/reports/"+path);

                                            },
                                          }
                                        );
                  }
                )

});


/*
	$(function(){
	$("#tree").fancytree({
	      // Node events
      activate: function(event, data) {
        var node = data.node;
        if (node.children)
            return true;
        var path=node.title;
        while (node.parent.title != 'root'){
            path= node.parent.title +'/' + path;
            node=node.parent;
        }
        // acces node attributes

          window.open("/reports/"+path);

	},
	}
	);
	});


$(function(){
      // using default options
      $("#tree2").fancytree();
    });


});

*/


</script>
{% endblock %}
